---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const products = await getCollection("product");
---

<Layout title={`CIA CAMPORSAL | Todos los Productos`}>
  <div class="flex flex-col flex-1 w-full lg:w-3/4 gap-8 p-4">
    <h1 class="text-5xl text-secondary break-all uppercase">
      Todos los Prdouctos
    </h1>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Id cursus metus
      aliquam eleifend mi in. Aliquam faucibus purus in massa tempor. Malesuada
      pellentesque elit eget gravida cum sociis natoque penatibus. Est ultricies
      integer quis auctor elit sed. Magna fermentum iaculis eu non diam.
      Maecenas sed enim ut sem. Fermentum leo vel orci porta. Vestibulum rhoncus
      est pellentesque elit ullamcorper dignissim cras. Turpis in eu mi bibendum
      neque egestas. Pretium nibh ipsum consequat nisl. Sed id semper risus in
      hendrerit gravida. Nunc id cursus metus aliquam. Ultrices eros in cursus
      turpis massa tincidunt. Purus non enim praesent elementum facilisis.
    </p>
    <section class="grid grid-cols-12 gap-4">
      {
        products.map((product) => (
          <article class="col-span-12 md:col-span-6 lg:col-span-4 flex w-full flex-col justify-between gap-4 overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md">
            <a
              class="relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl"
              href={`/productos/${product.slug}`}
            >
              <Image
                class="object-contain"
                src={product.data.image}
                alt={product.data.imageAlt}
              />
              {false && (
                <span class="absolute top-0 left-0 m-2 rounded-full bg-black px-2 text-center text-sm font-medium text-white">
                  39% OFF
                </span>
              )}
            </a>
            <div class="flex flex-col gap-4 px-5 pb-5">
              <a href={`/productos/${product.slug}`}>
                <h3 class="text-xl tracking-tight">{product.data.name}</h3>
              </a>
              <div class="flex items-center justify-between">
                <p>En stock</p>
                {false && (
                  <p>
                    <span class="text-3xl font-bold text-slate-900">$449</span>
                    <span class="text-sm text-slate-900 line-through">
                      $699
                    </span>
                  </p>
                )}
                {false && (
                  <div class="flex items-center">
                    <svg
                      aria-hidden="true"
                      class="h-5 w-5 text-yellow-300"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg
                      aria-hidden="true"
                      class="h-5 w-5 text-yellow-300"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg
                      aria-hidden="true"
                      class="h-5 w-5 text-yellow-300"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg
                      aria-hidden="true"
                      class="h-5 w-5 text-yellow-300"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg
                      aria-hidden="true"
                      class="h-5 w-5 text-yellow-300"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <span class="mr-2 ml-3 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold">
                      5.0
                    </span>
                  </div>
                )}
              </div>
              <a
                href={`/productos/${product.slug}`}
                class="flex items-center justify-center rounded-md bg-secondary px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-secondarygradient focus:outline-none focus:ring-4 focus:ring-blue-300"
              >
                Ver Articulo
              </a>
            </div>
          </article>
        ))
      }
    </section>
  </div>
</Layout>
